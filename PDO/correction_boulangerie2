-- ğŸ“¦ Table des utilisateurs
CREATE TABLE utilisateur (
    id INT AUTO_INCREMENT PRIMARY KEY, -- identifiant unique auto-incrÃ©mentÃ©
    nom VARCHAR(100) NOT NULL,         -- nom de l'utilisateur (obligatoire)
    prenom VARCHAR(100) NOT NULL,      -- prÃ©nom de l'utilisateur (obligatoire)
    mot_de_passe VARCHAR(255) NOT NULL,-- mot de passe hashÃ© (obligatoire) !!!! A HACHER EN PHP !!!!!
    is_admin TINYINT(1) NOT NULL DEFAULT 0 -- 0 = simple utilisateur, 1 = administrateur
);
 
--  Table des catÃ©gories de produits
CREATE TABLE categorie (
    id INT AUTO_INCREMENT PRIMARY KEY, -- identifiant unique auto-incrÃ©mentÃ©
    nom VARCHAR(100) NOT NULL          -- nom de la catÃ©gorie (ex: Informatique, VÃªtements...)
);
 
-- Table des produits
CREATE TABLE produit (
    id INT AUTO_INCREMENT PRIMARY KEY, -- identifiant unique auto-incrÃ©mentÃ©
    nom VARCHAR(100) NOT NULL,         -- nom du produit (ex: "T-shirt rouge")
    prix DECIMAL(6,2) NOT NULL,        -- prix avec 2 dÃ©cimales (ex: 9999.99 max)
    image VARCHAR(255),                -- URL ou chemin de l'image du produit (optionnel)
    categorie_id INT NOT NULL,         -- clÃ© Ã©trangÃ¨re vers la catÃ©gorie !!! NE PAS OUBLIER AVEC FOREIGN KEY
    FOREIGN KEY (categorie_id) REFERENCES categorie(id) -- lien vers la table categorie
);
 
--  Table des commandes (panier validÃ©)
CREATE TABLE commande (
    id INT AUTO_INCREMENT PRIMARY KEY, -- identifiant de la commande
    utilisateur_id INT NOT NULL,       -- utilisateur ayant passÃ© la commande !!! NE PAS OUBLIER AVEC FOREIGN KEY
    date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, -- date/heure de la commande
    FOREIGN KEY (utilisateur_id) REFERENCES utilisateur(id) -- lien vers le client
);
 
--  Table pivot commande_produit (liaison N:N)
CREATE TABLE commande_produit (
    commande_id INT NOT NULL,          -- identifiant de la commande !!! NE PAS OUBLIER AVEC FOREIGN KEY
    produit_id INT NOT NULL,           -- identifiant du produit commandÃ© !!! NE PAS OUBLIER AVEC FOREIGN KEY
    quantite INT NOT NULL,             -- quantitÃ© commandÃ©e de ce produit
    PRIMARY KEY (commande_id, produit_id), -- empÃªche les doublons (clÃ© composite)
    FOREIGN KEY (commande_id) REFERENCES commande(id), -- lien vers commande
    FOREIGN KEY (produit_id) REFERENCES produit(id)    -- lien vers produit
);
 
--   Types de donnÃ©es les plus utilisÃ©s
 
-- INT           : Entier
-- VARCHAR(N)    : ChaÃ®ne de caractÃ¨res (taille N)
-- TEXT          : Long texte
-- DATE          : Date (YYYY-MM-DD)
-- DATETIME      : Date + heure
-- DECIMAL(x,y)  : Nombre dÃ©cimal (prÃ©cis pour lâ€™argent)
-- ENUM(...)     : Valeur fixe parmi une liste
-- BOOLEAN       : Vrai ou Faux (TINYINT(1))
 
 
-- . Contraintes importantes
 
-- PRIMARY KEY     : Identifie de faÃ§on unique une ligne
-- NOT NULL        : Valeur obligatoire
-- UNIQUE          : Valeurs uniques
-- AUTO_INCREMENT  : IncrÃ©mentation automatique
-- DEFAULT         : Valeur par dÃ©faut
-- FOREIGN KEY     : ClÃ© Ã©trangÃ¨re (relation entre tables)
 
 
 
--  Organisation du fichier .sql
 
-- 1. CrÃ©er la base
-- 2. Utiliser la base (USE)
-- 3. CrÃ©er les tables
-- 4. Ajouter les contraintes
-- 5. InsÃ©rer les donnÃ©es
 
-- ğŸš« 8. Erreurs frÃ©quentes
 
-- âŒ Oublier le point-virgule ;
-- âŒ Utiliser un mot rÃ©servÃ© (ex: order)
--    âœ… Solution : utiliser des backticks -> `order`
-- âŒ Ne pas mettre dâ€™encodage UTF-8
-- âŒ Trop de donnÃ©es dans une seule table
-- âŒ Ne pas utiliser de clÃ© primaire
 
-- ğŸ’ 9. Bonnes pratiques
 
-- âœ… snake_case pour les noms : nom_utilisateur
-- âœ… ClÃ© primaire numÃ©rique AUTO_INCREMENT
-- âœ… Table sÃ©parÃ©e pour chaque entitÃ© (normalisation)
-- âœ… Toujours commenter le script
-- âœ… Utiliser DECIMAL pour les montants
 
-- ğŸ§ª 10. Insertion de donnÃ©es